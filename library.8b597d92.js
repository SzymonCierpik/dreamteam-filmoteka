const e=document.querySelector("#wrongSearch"),t=async(t,n)=>{const a=`https://api.themoviedb.org/3/search/movie?api_key=b118f38ec77100db6763b4cc83604589&language=en-US&query=${n}&page=${t}&include_adult=false`,s=await fetch(a),o=await s.json();return o.results.length<1?(e.innerHTML="Search result not successful. Enter the correct movie name and search again",{}):o},n=async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=b118f38ec77100db6763b4cc83604589");return await e.json()},a=async()=>{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=b118f38ec77100db6763b4cc83604589"),t=await e.json();return s(t),t},s=e=>{const t=e.genres;sessionStorage.setItem("genresIds",JSON.stringify(t))};window.onload=async()=>{const e=await n();u(e.results)};const o=document.querySelector("[data-input]"),c=document.querySelector("[data-search]"),r=document.querySelector(".films-cards-set"),i=document.querySelector("#wrongSearch");let l="";const d=e=>l=e.target.value.trim(),g=(async()=>{a(),console.log("alert: ",i);const e=sessionStorage.getItem("genresIds");console.log(e);const t=JSON.parse(e);return console.log(t),t})(),m=e=>e.slice(0,3).map((e=>(async e=>(await g.filter((t=>t.id===e)))[0].name)(e))).join(","),u=e=>{const t=e.map((e=>{const t=m(e.genre_ids);return`\n        <div class="film-card">\n        <a href=https://image.tmdb.org/t/p/original/${e.poster_path}>\n        <img class="film-img" src="https://image.tmdb.org/t/p/w200/${e.poster_path}" alt="${e.title}" loading="lazy" /> \n        <div class="info">\n        <p class="info-item">${e.original_title}</p>\n        <p class="info-item">${t}</p>\n        <p class="info-item">${e.release_date}</p>\n        <p class="info-item">${e.vote_average}</p>\n        </div>\n        </a>\n        </div>\n        `})).join(" ");r.insertAdjacentHTML("beforeend",t)};c.addEventListener("click",(async e=>{e.preventDefault(),page=1,r.innerHTML="",i.innerHTML="";const n=await t(1,l);u(n.results)})),d&&o.addEventListener("input",d);const p=document.querySelector("body"),f=document.querySelector(".fa-regular");document.querySelector("#toggle__checkbox").addEventListener("click",(()=>{p.classList.toggle("dark__theme"),f.classList.toggle("fa-sun"),f.classList.toggle("fa-moon")}));
//# sourceMappingURL=library.8b597d92.js.map
