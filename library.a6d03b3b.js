const e=document.querySelector("#wrongSearch"),t=async(t,n)=>{const a=`https://api.themoviedb.org/3/search/movie?api_key=b118f38ec77100db6763b4cc83604589&language=en-US&query=${n}&page=${t}&include_adult=false`,s=await fetch(a),r=await s.json();return r.results.length<1?(e.innerHTML="Search result not successful. Enter the correct movie name and search again",{}):r},n=async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=b118f38ec77100db6763b4cc83604589");return await e.json()},a=async()=>{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=b118f38ec77100db6763b4cc83604589"),t=await e.json();return s(t),t},s=e=>{const t=e.genres;sessionStorage.setItem("genresIds",JSON.stringify(t))};window.onload=async()=>{const e=await n();u(e.results)};const r=document.querySelector("[data-input]"),c=document.querySelector("[data-search]"),i=document.querySelector(".films-cards-set"),o=document.querySelector("#wrongSearch");let l="";const d=e=>l=e.target.value.trim(),g=(()=>{a();const e=sessionStorage.getItem("genresIds");return JSON.parse(e)})(),u=e=>{const t=e.map((e=>{const t=(e=>{let t=[];return e.map((e=>{t.push(g.find((t=>t.id===e)))})),t.map((e=>e.name)).splice(0,3).join(", ")})(e.genre_ids);return`\n        <div class="film-card">\n        <a href=https://image.tmdb.org/t/p/original/${e.poster_path}>\n        <img class="film-img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" alt="${e.title}" loading="lazy" /> \n        <div class="info">\n        <p class="info-item">${e.original_title}</p>\n        <p class="info-item">${t}</p>\n        <p class="info-item">${e.release_date}</p>\n        <p class="info-item">${e.vote_average}</p>\n        </div>\n        </a>\n        </div>\n        `})).join(" ");i.insertAdjacentHTML("beforeend",t)};c.addEventListener("click",(async e=>{e.preventDefault(),page=1,i.innerHTML="",o.innerHTML="";const n=await t(1,l);u(n.results)})),d&&r.addEventListener("input",d);const m=document.querySelector("body"),p=document.querySelector(".fa-regular");document.querySelector("#toggle__checkbox").addEventListener("click",(()=>{m.classList.toggle("dark__theme"),p.classList.toggle("fa-sun"),p.classList.toggle("fa-moon")}));
//# sourceMappingURL=library.a6d03b3b.js.map
